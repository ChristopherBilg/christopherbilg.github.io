<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="description" content="Christopher Bilger's Portfolio" />
    <meta name="keywords" content="Resume, Portfolio, Personal, Blog" />
    <meta name="author" content="Christopher Bilger" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>JS Web Components</title>
    <link rel="icon" type="image/x-icon" href="../../images/favicon.ico" />
    <link rel="stylesheet" media="screen" href="../../css/mvp.css" />
    <link rel="stylesheet" media="screen" href="../../css/styles.css" />
  </head>

  <body>
    <noscript id="full-screen-noscript-message"> Please enable JavaScript in order to view this webpage. </noscript>

    <div id="yellow-banner">WORK IN PROGRESS</div>

    <main hidden>
      <a href="/projects">Back to Projects List</a>

      <h1>JS Web Components</h1>

      <p>
        This project (<b>JS Web Components</b>) is an exploratory space designed for me to learn about
        <a href="https://developer.mozilla.org/en-US/docs/Web/Web_Components" target="_blank" class="external-link"
          >JavaScript Web Components</a
        >. These have been on my radar for months and months by the time of this projects creation; however, I didn't think much of them
        until GitHub converted their entire frontend stack from a JS UI Framework to JS Web Components.
      </p>

      <p>Below I am going to attach some simple web components onto the DOM and they should, hopefully, display properly.</p>

      <one-dialog>
        <span slot="heading">Web Component Heading</span>
        <div>
          <p>
            Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.
            Cursus risus at ultrices mi tempus imperdiet nulla. Sodales ut eu sem integer vitae justo eget magna. Purus sit amet luctus
            venenatis lectus magna fringilla urna porttitor.
          </p>
        </div>
      </one-dialog>

      <input type="submit" value="Open Dialog UI" id="launch-dialog" />
    </main>

    <script type="module">
      // Arlo is not used in this project because this project is used for
      // exploring JavaScript Web Components

      (() => {
        document.getElementsByTagName("main")[0].hidden = false;

        class TimeFormatted extends HTMLElement {
          render() {
            // (1)
            let date = new Date(this.getAttribute("datetime") || Date.now());

            this.innerHTML = new Intl.DateTimeFormat("default", {
              year: this.getAttribute("year") || undefined,
              month: this.getAttribute("month") || undefined,
              day: this.getAttribute("day") || undefined,
              hour: this.getAttribute("hour") || undefined,
              minute: this.getAttribute("minute") || undefined,
              second: this.getAttribute("second") || undefined,
              timeZoneName: this.getAttribute("time-zone-name") || undefined,
            }).format(date);
          }

          connectedCallback() {
            // (2)
            if (!this.rendered) {
              this.render();
              this.rendered = true;
            }
          }

          static get observedAttributes() {
            // (3)
            return ["datetime", "year", "month", "day", "hour", "minute", "second", "time-zone-name"];
          }

          attributeChangedCallback(name, oldValue, newValue) {
            // (4)
            this.render();
          }
        }

        customElements.define("time-formatted", TimeFormatted);
      })();
    </script>

    <time-formatted id="elem" hour="numeric" minute="numeric" second="numeric"></time-formatted>

    <script>
      setInterval(() => elem.setAttribute("datetime", new Date()), 1000); // (5)
    </script>
  </body>
</html>
